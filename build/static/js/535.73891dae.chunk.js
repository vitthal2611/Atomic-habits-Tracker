"use strict";(self.webpackChunkatomic_habits_tracker=self.webpackChunkatomic_habits_tracker||[]).push([[535],{535:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});a(43);var n=a(579);const s=e=>{let{habits:t,view:a,getHabitStats:s,toggleHabit:l}=e;const c=()=>{const e=[],t=new Date;if("weekly"===a)for(let a=6;a>=0;a--){const n=new Date(t);n.setDate(t.getDate()-a),e.push(n)}else if("monthly"===a)for(let a=29;a>=0;a--){const n=new Date(t);n.setDate(t.getDate()-a),e.push(n)}else if("yearly"===a)for(let a=11;a>=0;a--){const n=new Date(t.getFullYear(),t.getMonth()-a,1);e.push(n)}return e},i=(e,t)=>{const a=t.toDateString();return e.daily.some(e=>e.key===a&&e.completed)},r=c();return(0,n.jsxs)("section",{className:"identity-tracker","aria-label":"".concat(a," identity tracking"),children:[(0,n.jsxs)("h3",{children:["\ud83c\udfaf Identity Reinforcement - ",a.charAt(0).toUpperCase()+a.slice(1)," View"]}),(0,n.jsxs)("div",{className:"tracker-grid",role:"table","aria-label":"Identity tracking grid",children:[(0,n.jsxs)("div",{className:"tracker-header",role:"row",children:[(0,n.jsx)("div",{className:"habit-col",role:"columnheader",children:"Identity"}),r.map((e,t)=>(0,n.jsx)("div",{className:"day-col",role:"columnheader",children:"yearly"===a?e.toLocaleDateString("en",{month:"short"}):e.getDate()},t)),(0,n.jsx)("div",{className:"consistency-col",role:"columnheader",children:"Consistency"}),(0,n.jsx)("div",{className:"streak-col",role:"columnheader",children:"Streak"})]}),t.map(e=>{const t=s(e),o=((e,t)=>{const a=new Date;let n=0;if("weekly"===t)for(let s=0;s<52;s++){const t=new Date(a);t.setDate(a.getDate()-a.getDay()-7*s);const l=new Date(t);if(l.setDate(t.getDate()+6),!e.daily.some(e=>{const a=new Date(e.key);return e.completed&&a>=t&&a<=l}))break;n++}else if("monthly"===t)for(let s=0;s<24;s++){const t=new Date(a.getFullYear(),a.getMonth()-s,1),l=new Date(a.getFullYear(),a.getMonth()-s+1,0);if(!e.daily.some(e=>{const a=new Date(e.key);return e.completed&&a>=t&&a<=l}))break;n++}else if("yearly"===t)for(let s=0;s<10;s++){const t=new Date(a.getFullYear()-s,0,1),l=new Date(a.getFullYear()-s,11,31);if(!e.daily.some(e=>{const a=new Date(e.key);return e.completed&&a>=t&&a<=l}))break;n++}return n})(e,a),d=(e=>{const t=c(),a=t.filter(t=>i(e,t)).length;return Math.round(a/t.length*100)})(e);return(0,n.jsxs)("div",{className:"habit-row",role:"row",children:[(0,n.jsxs)("div",{className:"habit-identity",role:"cell",children:[(0,n.jsx)("span",{className:"icon",role:"img","aria-label":e.name,children:e.icon}),(0,n.jsxs)("div",{className:"identity-info",children:[(0,n.jsx)("span",{className:"identity-text",children:e.identity}),(0,n.jsxs)("span",{className:"start-date",title:"Days since starting this identity",children:[t.daysSinceStart," days building"]})]})]}),r.map((t,a)=>{const s=t>=new Date(e.startDate),c=i(e,t);return(0,n.jsx)("div",{className:"day-dot",onClick:s?()=>l(e.id,t):void 0,role:"cell",tabIndex:s?0:-1,onKeyDown:a=>{!s||"Enter"!==a.key&&" "!==a.key||(a.preventDefault(),l(e.id,t))},"aria-label":"".concat(e.name," on ").concat(t.toLocaleDateString(),": ").concat(c?"completed":"not completed").concat(s?", click to toggle":""),children:(0,n.jsx)("div",{className:"dot ".concat(s?"clickable":"disabled"," ").concat(c?"completed":"")})},a)}),(0,n.jsxs)("div",{className:"consistency-score",role:"cell","aria-label":"".concat(d,"% consistency"),children:[d,"%"]}),(0,n.jsxs)("div",{className:"period-streak",role:"cell","aria-label":"".concat(o," ").concat(a," streak"),children:["\ud83d\udd25 ",o]})]},e.id)})]}),(0,n.jsxs)("div",{className:"identity-insight",children:[(0,n.jsx)("p",{children:'"Every action is a vote for the type of person you wish to become."'}),(0,n.jsx)("p",{children:"Focus on consistency, not perfection. Small wins compound into identity change."})]})]})}}}]);
//# sourceMappingURL=535.73891dae.chunk.js.map